<ng-container *ngIf="posts$ | async as posts">
  <div *ngIf="(loading$ | async) && posts.length === 0" class="loading">загрузка записей...</div>
  <div *ngIf="(error$ | async)" class="error">ошибка при загрузке записей</div>

  <div class="post-feed">
    <app-post-meta *ngFor="let item of posts; trackBy: trackById" [post]="item"></app-post-meta>
    <div #scrollTrigger class="scroll-trigger"></div> <!-- Триггер в конце списка -->
  </div>

  <div *ngIf="(loading$ | async) && posts.length > 0" class="loading-more">загрузка...</div>
  <div *ngIf="allLoaded$ | async" class="end-of-feed">вы достигли конца дневника</div>
</ng-container>
