<nz-card class="complaint-card"
         [nzBordered]="true" [nzHoverable]="true">

  <nz-card-meta
    [nzTitle]="'Жалоба №' + complaint.id"
    [nzDescription]="'Статус: ' + complaint.status">
  </nz-card-meta>

  <div class="complaint-details">
    <p><strong>Тип нарушения:</strong> {{ complaint.violationType }}</p>
    <p><strong>Описание:</strong> {{ complaint.description }}</p>
    <p><strong>Дата создания:</strong> {{ complaint.creationDate }}</p>
    <p><strong>Дата закрытия:</strong> {{ complaint.closingDate || 'Не закрыта' }}</p>
    <div>
      <p *ngIf="complaint.postId">
        <strong>Пост ID:</strong>
        <a (click)="showPost(complaint.postId)" class="post-link">{{ complaint.postId }}</a>
      </p>
      <button *ngIf="selectedPost" nz-button nzType="default" (click)="closePost()">Закрыть пост</button>
      <app-post *ngIf="selectedPost" [post]="selectedPost"></app-post>
    </div>
    <p *ngIf="complaint.commentId"><strong>Комментарий ID:</strong> {{ complaint.commentId }}</p>
    <p><strong>Ответственный
      администратор:</strong> {{ complaint.adminId ? 'Администратор ' + complaint.adminId : 'Не назначен' }}</p>
  </div>

  <div class="complaint-actions">
    <nz-select
      [(ngModel)]="complaint.status"
      class="status-selector"
      [nzAllowClear]="false"
      (ngModelChange)="onStatusChange(complaint.status)">
      <nz-option *ngFor="let status of generalStatuses" [nzValue]="status" [nzLabel]="status"></nz-option>
    </nz-select>
    <button nz-button nzType="primary" (click)="confirmComplaintStatus()">Подтвердить</button>


    <button
      nz-button
      nzType="default"
      nzDanger
      *ngIf="!complaint.adminId"
      (click)="assignAdminToComplaint($event)">
      Взять в обработку
    </button>
  </div>
</nz-card>




